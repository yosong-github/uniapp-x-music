{"version":3,"sources":["pages/index/index.uvue","pages/index/index.uvue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"index-box\">\r\n\t\t<!-- 个人菜单 -->\r\n\t\t<view class=\"menu\">\r\n\t\t\t<view class=\"user\">\r\n\t\t\t\t<text class=\"menuText\">yosong</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"menuList\">\r\n\t\t\t\t<text class=\"menuText\">最近播放</text>\r\n\t\t\t\t<text class=\"menuText\">收藏列表</text>\r\n\t\t\t\t<text class=\"menuText\">修改密码</text>\r\n\t\t\t\t<text class=\"menuText\">我的歌单</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"login_out\">\r\n\t\t\t\t<text class=\"menuText\">退出 登录</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 主体内容 -->\r\n\t\t<view class=\"index\"\r\n\t\t\tref=\"containerRef\"\r\n\t\t\t@touchstart=\"drawStart\"\r\n\t\t\t@touchmove=\"drawMove\"\r\n\t\t\t@touchend=\"drawEnd\">\t\r\n\t\t\t<view class=\"menuIconBox\" @click=\"checkMenu\">\r\n\t\t\t\t<image class=\"menuIcon\" src=\"../../static/menu.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t\t<scroll-view class=\"pageView\" :show-scrollbar=\"false\" style=\"flex:1\">\r\n\t\t\t\t<!-- 推荐歌曲 -->\r\n\t\t\t\t<recommend></recommend>\r\n\t\t\t\t<!-- 精品歌单 -->\r\n\t\t\t\t<playlist></playlist>\r\n\t\t\t\t<!-- 推荐新音乐 -->\r\n\t\t\t\t<recommendNew></recommendNew>\r\n\t\t\t\t\r\n\t\t\t</scroll-view>\r\n\t\t\t\r\n\t\t\t<!-- 自定义导航栏 -->\r\n\t\t\t<TabBar />\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"uts\">\r\nimport { ref } from 'vue'\r\nimport TabBar from '@/components/tabBar/index.vue'\r\n\r\nimport recommendNew from './component/recommendNewMusic.uvue';\r\nimport recommend from './component/recommend.uvue';\r\nimport playlist from './component/playlist.uvue'\r\n// 隐藏tabbar\r\nuni.hideTabBar()\r\n\r\n\r\nconst menuState = ref(false)\r\nconst isDraw = ref(false)\r\n\r\n// 容器\r\nconst containerRef = ref<UniElement | null>(null)\r\n\r\n\r\nconst checkMenu = () => {\r\n\tif (menuState.value) {\r\n\t\tmenuState.value = false\r\n\t\tcontainerRef.value?.style?.setProperty('left', '0px')\r\n\t\tcontainerRef.value?.style?.setProperty('transform', 'scale(1)')\r\n\t\tcontainerRef.value?.style?.setProperty('border-radius', '0px')\r\n\t} else {\r\n\t\tmenuState.value = true\r\n\t\tcontainerRef.value?.style?.setProperty('left', '400rpx')\r\n\t\tcontainerRef.value?.style?.setProperty('transform', 'scale(0.9)')\r\n\t\tcontainerRef.value?.style?.setProperty('border-radius', '50rpx')\r\n\t}\r\n}\r\n\r\n\r\nconst drawStartX = ref(0)\r\nconst drawStart = (e: UniTouchEvent) => {\r\n\tdrawStartX.value = e.changedTouches[0].clientX\r\n}\r\n// 开始移动\r\nconst drawMove = (e: UniTouchEvent) => {\r\n\tif (e.changedTouches[0].clientX - drawStartX.value >= 80 && drawStartX.value <= 50) {\r\n\t\tcontainerRef.value?.style?.setProperty('left', '400rpx')\r\n\t\tcontainerRef.value?.style?.setProperty('transform', 'scale(0.9)')\r\n\t\tcontainerRef.value?.style?.setProperty('border-radius', '50rpx')\r\n\t\tmenuState.value = true\r\n\t\tisDraw.value = false\r\n\t}\r\n\tif (e.changedTouches[0].clientX - drawStartX.value <= -50) {\r\n\t\tcontainerRef.value?.style?.setProperty('left', '0px')\r\n\t\tcontainerRef.value?.style?.setProperty('transform', 'scale(1)')\r\n\t\tcontainerRef.value?.style?.setProperty('border-radius', '0px')\r\n\t\tmenuState.value = false\r\n\t\tisDraw.value = false\r\n\t}\r\n\t\r\n}\r\n// 结束触摸\r\nconst drawEnd = () => {\r\n\tif (isDraw.value) {\r\n\t\tmenuState.value = false\r\n\t\tisDraw.value = false\r\n\t\tcontainerRef.value?.style?.setProperty('left', '0px')\r\n\t\tcontainerRef.value?.style?.setProperty('transform', 'scale(1)')\r\n\t\tcontainerRef.value?.style?.setProperty('border-radius', '0px')\r\n\t}\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.index-box{\r\n\tposition: relative;\r\n\theight: 100%;\r\n\t.menu{\r\n\t\tposition: absolute;\r\n\t\ttop: 0%;\r\n\t\tleft: 0%;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #f1f8fd;\r\n\t\tpadding: 80rpx 0 80rpx 20rpx;\r\n\t\tjustify-content: space-between;\r\n\t\t.user{\r\n\t\t\tmargin-top: 80rpx;\r\n\t\t\tbackground-color: #3e2ad1;\r\n\t\t\tpadding: 40rpx 10rpx;\r\n\t\t\tmargin-left: -20rpx;\r\n\t\t\twidth: 350rpx;\r\n\t\t\tborder-top-right-radius: 16rpx;\r\n\t\t\tborder-bottom-right-radius: 16rpx;\r\n\t\t\t.menuText{\r\n\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\tcolor: #fff\r\n\t\t\t}\r\n\t\t}\r\n\t\t.menuList{\r\n\t\t\theight: 70%;\r\n\t\t\tmargin-top: 80rpx;\r\n\t\t\t.menuText{\r\n\t\t\t\tmargin: 0 0 70rpx 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.login_out{\r\n\t\t\tmargin: 0 0 70rpx 20rpx;\r\n\t\t}\r\n\t\t.menuText{\r\n\t\t\tcolor: #000;\r\n\t\t}\r\n\t}\r\n\t.index{\r\n\t\tbox-shadow: 0 1rpx 6rpx hsl(0deg 0% 0% / 0.3);\r\n\t\tposition: absolute;\r\n\t\ttop: 0rpx;\r\n\t\tleft: 0rpx;\r\n\t\ttransition-duration: .1s;\r\n\t\ttransition-timing-function: linear;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t\t// background-color: #f1f8fd;\r\n\t\tbackground: linear-gradient(to bottom, #ffffff, #f1f8fd);\r\n\t\t.menuIconBox{\r\n\t\t\tposition: absolute;\r\n\r\n\t\t\tmargin-top: var(--status-bar-height);\r\n\t\t\ttop: 20rpx;\r\n\t\t\tleft: 20rpx;\r\n\r\n\r\n\r\n\r\n\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tbackground-color: #3e2ad1;\r\n\t\t\tborder-radius: 6rpx;\r\n\t\t\tz-index: 9999;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t.menuIcon{\r\n\t\t\t\tz-index: 9999;\r\n\t\t\t\theight: 30rpx;\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\t.pageView{\r\n\t\t\t// margin-top: var(--status-bar-height);\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\t\r\n\r\n</style>\r\n",null],"names":[],"mappings":"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"}